class d{constructor(t){this.carousel=t,this.track=t.querySelector(".carousel-track"),this.slides=Array.from(this.track.children),this.nextButton=t.querySelector(".carousel-button--next"),this.prevButton=t.querySelector(".carousel-button--prev"),this.dotsNav=t.querySelector(".carousel-nav"),this.dots=Array.from(this.dotsNav.children),this.slideWidth=this.slides[0].getBoundingClientRect().width,this.currentIndex=0,this.init()}init(){this.slides.forEach((e,s)=>{e.style.left=this.slideWidth*s+"px"}),this.nextButton.addEventListener("click",()=>{const e=(this.currentIndex+1)%this.slides.length;this.moveToSlide(e)}),this.prevButton.addEventListener("click",()=>{const e=(this.currentIndex-1+this.slides.length)%this.slides.length;this.moveToSlide(e)}),this.dotsNav.addEventListener("click",e=>{const s=e.target.closest("button");if(!s)return;const i=this.dots.findIndex(o=>o===s);this.moveToSlide(i)});let t=0,r=!1;this.track.addEventListener("touchstart",e=>{t=e.touches[0].clientX,r=!0},{passive:!0}),this.track.addEventListener("touchend",e=>{if(!r)return;const s=e.changedTouches[0].clientX,i=t-s;Math.abs(i)>50&&(i>0?this.nextButton.click():this.prevButton.click()),r=!1},{passive:!0}),this.startAutoPlay(),this.carousel.addEventListener("mouseenter",()=>this.stopAutoPlay()),this.carousel.addEventListener("mouseleave",()=>this.startAutoPlay()),window.addEventListener("resize",()=>{this.slideWidth=this.slides[0].getBoundingClientRect().width,this.slides.forEach((e,s)=>{e.style.left=this.slideWidth*s+"px"}),this.moveToSlide(this.currentIndex)})}moveToSlide(t){this.track.style.transform="translateX(-"+this.slideWidth*t+"px)",this.dots[this.currentIndex].classList.remove("active"),this.dots[t].classList.add("active"),this.currentIndex=t}startAutoPlay(){this.autoPlayTimer=setInterval(()=>{this.nextButton.click()},5e3)}stopAutoPlay(){clearInterval(this.autoPlayTimer)}}document.addEventListener("DOMContentLoaded",()=>{document.querySelectorAll(".carousel").forEach(t=>new d(t))});
